execute in minecraft:overworld positioned 206 173 -60 if entity @a[distance=..130] if predicate gis:system/random_chance/rand10 if predicate gis:system/random_chance/rand30 run summon minecraft:lightning_bolt ~ ~30 ~
execute in minecraft:overworld positioned 206 173 -60 if entity @a[distance=..130] if predicate gis:system/world_check/weather_thunder unless score #thunder_island gis_event_flag matches 1 run title @a[nbt={Dimension:"minecraft:overworld"}] title {"text":"雷雨島が嵐を呼び起こす","color":"yellow"}
execute in minecraft:overworld positioned 206 173 -60 if entity @a[distance=..130] if predicate gis:system/world_check/weather_thunder unless score #thunder_island gis_event_flag matches 1 run weather thunder
execute in minecraft:overworld positioned 206 173 -60 if entity @a[distance=..130] if predicate gis:system/world_check/weather_thunder unless score #thunder_island gis_event_flag matches 1 run scoreboard players set #thunder_island gis_event_flag 1
execute in minecraft:overworld positioned 206 173 -60 unless predicate gis:system/world_check/weather_thunder if score #thunder_island gis_event_flag matches 1 run scoreboard players set #thunder_island gis_event_flag 0
schedule function gis:system/world_system/thunder_island/thunder_sub 3t replace
